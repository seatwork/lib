class Waterfall{constructor(t,i=3,n=10){this.container=document.querySelector(t),this.container.style.position="relative",this.columnCount=i,this.spacing=n,this.columnCache=new Array(this.columnCount),this._init()}render(){this._init();const t=this.container.children;for(let i=0;i<t.length;i++)this.add(t[i])}add(t){const i=this._findLowestColumn();t.transition=t.style.transition,t.style.transition="none",t.style.position="absolute",t.style.left=i.x+"px",t.style.top=i.y+"px",t.style.width=this.columnWidth+"px",this.columnCache[i.i]=i.y+t.offsetHeight,t.style.transition=t.transition;const n=Math.max.apply(null,this.columnCache);this.container.style.height=n+"px"}_init(){this.columnCache.fill(0),this.columnWidth=(this.container.offsetWidth-this.spacing*(this.columnCount-1))/this.columnCount}_findLowestColumn(){const t=Math.min.apply(null,this.columnCache),i=this.columnCache.indexOf(t);return{i:i,x:i>0?i*(this.columnWidth+this.spacing):0,y:t>0?t+this.spacing:0}}}
